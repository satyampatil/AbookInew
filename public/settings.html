<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preferences - abooki</title>
    <link rel="icon" href="browserIcon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="settings.css">
    <style>
        /* Override grid for single column layout */
        .settings-grid {
            display: block;
            max-width: 600px; /* Limit width for better readability */
            margin: 0 auto;
        }
        .settings-card {
            margin-bottom: 2rem;
        }
    </style>
</head>
<body data-page="settings">

    <header class="main-header">
        <nav class="main-nav">
            <a href="index.html" class="logo-link">
                <div class="logo">
                    ABOOKI
                </div>
            </a>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li>
                    <a href="aibook.html" class="nav-link nav-link-anim" id="aibook-link">
                        <span class="ai-part">A</span>
                        <span class="book-part">BOOK</span>
                        <span class="i-part">I</span>
                    </a>
                </li>
                <li><a href="library.html" class="nav-link">Central Library</a></li>
                <li><a href="new-releases.html" class="nav-link">New Releases</a></li>
                <li><a href="mylist.html" class="nav-link">My List</a></li>
            </ul>
            <div class="nav-profile">
                <!-- Content will be injected by nav.js -->
                <a href="login.html" class="nav-profile-link">
                    <i data-feather="user"></i>
                </a>
            </div>
        </nav>
    </header>

    <main class="settings-main">
        <div class="settings-header">
            <h1>Preferences</h1>
            <p>Manage your reading experience and privacy.</p>
        </div>

        <div class="settings-grid">
            
            <!-- SINGLE CARD LAYOUT -->
            <div class="settings-card">
                <div class="card-header">
                    <div class="header-title-group">
                        <i data-feather="sliders" class="card-icon"></i>
                        <h2>Settings</h2>
                    </div>
                    <button id="reset-defaults-btn" class="btn-reset" title="Reset to defaults">Reset</button>
                </div>
                
                <div class="card-body">
                    <p class="section-desc">Customize how books appear and behave.</p>
                    
                    <!-- 1. Theme -->
                    <div class="control-group">
                        <label>Theme</label>
                        <div class="theme-picker" id="theme-options">
                            <div class="theme-option light" data-theme="light" title="Light Mode">
                                <span>Aa</span>
                            </div>
                            <div class="theme-option sepia" data-theme="sepia" title="Sepia Mode">
                                <span>Aa</span>
                            </div>
                            <div class="theme-option dark" data-theme="dark" title="Dark Mode">
                                <span>Aa</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Font -->
                    <div class="control-group">
                        <label>Preferred Typeface</label>
                        <select id="font-select" class="form-select" autocomplete="off">
                            <optgroup label="Serif (Classic)">
                                <option value="lora">Lora (Default)</option>
                                <option value="merriweather">Merriweather</option>
                                <option value="playfair">Playfair Display</option>
                                <option value="roboto-slab">Roboto Slab</option>
                                <option value="libre-baskerville">Libre Baskerville</option>
                                <option value="eb-garamond">EB Garamond</option>
                            </optgroup>
                            <optgroup label="Sans-Serif (Modern)">
                                <option value="inter">Inter (Default)</option>
                                <option value="roboto">Roboto</option>
                                <option value="open-sans">Open Sans</option>
                                <option value="montserrat">Montserrat</option>
                                <option value="lato">Lato</option>
                                <option value="poppins">Poppins</option>
                                <option value="nunito">Nunito</option>
                            </optgroup>
                            <optgroup label="Other">
                                <option value="inconsolata">Inconsolata (Code)</option>
                                <option value="patrick-hand">Patrick Hand (Handwritten)</option>
                            </optgroup>
                        </select>
                    </div>

                    <!-- 3. Voice -->
                    <div class="control-group">
                        <label>Reading Voice</label>
                        <select id="voice-select" class="form-select" autocomplete="off">
                            <option value="">Default Device Voice</option>
                        </select>
                    </div>

                     <!-- 4. Text Size -->
                     <div class="control-group">
                        <label>Book Text Size</label>
                        <input type="range" id="font-size-range" min="14" max="24" step="1" class="form-range" autocomplete="off">
                        <div class="range-labels">
                            <span style="font-size: 14px">Small</span>
                            <span id="font-size-display">18px</span>
                            <span style="font-size: 24px">Large</span>
                        </div>
                    </div>

                    <hr class="divider">

                    <!-- 5. Privacy (Ghost Mode) -->
                    <div class="toggle-group">
                        <div class="toggle-info">
                            <label for="ghost-mode-toggle">Ghost Mode</label>
                            <p>Hide your presence from the "Active Readers" list in the library.</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="ghost-mode-toggle" autocomplete="off">
                            <span class="slider round"></span>
                        </label>
                    </div>

                    <hr class="divider">

                    <!-- Actions -->
                     <div class="data-actions">
                        <button class="btn btn-outline" id="clear-cache-btn">Clear Local Cache</button>
                        <button class="btn btn-primary" id="save-prefs-btn">Save All Changes</button>
                     </div>
                     <p id="save-message" class="save-message"></p>

                </div>
            </div>

        </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 abooki. All rights reserved.</p>
    </footer>

    <script>
      feather.replace()
    </script>
    <script type="module" src="settings.js"></script>
</body>
</html>